{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/UI/Modal.module.css","components/Meals/MealItem/MealItem.module.css","components/Layout/Header.module.css","components/Meals/PromoText.module.css","components/Meals/MealList.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Modal.js","store/cart-context.js","components/Cart/CartItem.js","components/Cart/Cart.js","assets/sushi.jpg","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/Meals/PromoText.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/MealList.js","components/Meals/Meals.js","store/CartContextProvider.js","App.js","index.js"],"names":["module","exports","Backdrop","props","className","styles","backdrop","onClick","onHideCart","ModalWindow","modal","content","children","portalElement","document","getElementById","Modal","Fragment","ReactDOM","createPortal","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","CartItem","price","toFixed","classes","name","summary","amount","actions","onRemove","onAdd","Cart","cartContext","useContext","Math","abs","hasItems","length","removeCartItemHandler","addCartItemHandler","cartItems","map","bind","total","button","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","useState","isButtonAnimated","setIsButtonAnimated","cartItemsNumber","reduce","currentValue","buttonClasses","bump","useEffect","timer","setTimeout","clearTimeout","icon","badge","Header","header","onShowCart","src","sushiImage","alt","PromoText","Card","card","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","inputAmount","current","value","trim","onAddToCart","type","min","step","defaultValue","MealItem","formattedPrice","meal","description","DUMMY_MEALS","MealList","mealList","meals","Meals","defaultCartState","cartReducer","state","action","updatedItem","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","concat","filter","CartContextProvider","useReducer","cartState","dispatchCartAction","Provider","App","cartIsVisible","setCartIsVisible","render"],"mappings":"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","file":"static/js/main.d786ddfc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__3aOKp\",\"total\":\"Cart_total__2bRuz\",\"actions\":\"Cart_actions__3Yu8F\",\"button--alt\":\"Cart_button--alt__1wJDd\",\"button\":\"Cart_button__WoCgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__31dU4\",\"summary\":\"CartItem_summary__3-OsB\",\"price\":\"CartItem_price__3EXqz\",\"amount\":\"CartItem_amount__37WeK\",\"actions\":\"CartItem_actions__3AWeh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__13vHy\",\"icon\":\"HeaderCartButton_icon__1Ic3n\",\"badge\":\"HeaderCartButton_badge__1CCbz\",\"bump\":\"HeaderCartButton_bump__2ia4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3njIC\",\"modal\":\"Modal_modal__1Tgrc\",\"slide-down\":\"Modal_slide-down__3aO1e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3Ijqp\",\"description\":\"MealItem_description__28l02\",\"price\":\"MealItem_price__1ZW4r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__ERDSd\",\"main-image\":\"Header_main-image__2oQYA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"promo-text\":\"PromoText_promo-text__1GDKE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"MealList_meals__2Wr0v\",\"meals-appear\":\"MealList_meals-appear__1RSK1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1ymVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2lfdq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__1QeJ-\"};","import React from \"react\";\nimport styles from \"./Modal.module.css\";\nimport ReactDOM from \"react-dom\";\n\nconst Backdrop = (props) => {\n  return <div className={styles.backdrop} onClick={props.onHideCart}></div>;\n};\n\nconst ModalWindow = (props) => {\n  return (\n    <div className={styles.modal}>\n      <div className={styles.content}>{props.children}</div>\n    </div>\n  );\n};\n\nconst portalElement = document.getElementById(\"overlays\");\n\nconst Modal = (props) => {\n  return (\n    <React.Fragment>\n      {ReactDOM.createPortal(\n        <Backdrop onHideCart={props.onHideCart} />,\n        portalElement\n      )}\n      {ReactDOM.createPortal(\n        <ModalWindow>{props.children}</ModalWindow>,\n        portalElement\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nconst CartContext = React.createContext({\n  items: [],\n  totalAmount: 0,\n  addItem: (item) => {},\n  removeItem: (id) => {},\n});\n\nexport default CartContext;\n","import classes from \"./CartItem.module.css\";\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes[\"cart-item\"]}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import Modal from '../UI/Modal';\nimport styles from './Cart.module.css';\nimport { useContext } from 'react';\nimport CartContext from '../../store/cart-context';\nimport CartItem from './CartItem';\n\nconst Cart = props => {\n\tconst cartContext = useContext(CartContext);\n\n\tconst totalAmount = `$${Math.abs(cartContext.totalAmount).toFixed(2)}`;\n\tconst hasItems = cartContext.items.length > 0;\n\n\tconst removeCartItemHandler = id => {\n\t\tcartContext.removeItem(id);\n\t};\n\n\tconst addCartItemHandler = item => {\n\t\tcartContext.addItem({ ...item, amount: 1 });\n\t};\n\n\tconst cartItems = (\n\t\t<ul className={styles['cart-items']}>\n\t\t\t{cartContext.items.map(item => (\n\t\t\t\t<CartItem\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\tname={item.name}\n\t\t\t\t\tamount={item.amount}\n\t\t\t\t\tprice={item.price}\n\t\t\t\t\tonAdd={addCartItemHandler.bind(null, item)}\n\t\t\t\t\tonRemove={removeCartItemHandler.bind(null, item.id)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</ul>\n\t);\n\n\treturn (\n\t\t<Modal onHideCart={props.onHideCart}>\n\t\t\t{cartItems}\n\t\t\t<div className={styles.total}>\n\t\t\t\t<span>Итого</span>\n\t\t\t\t<span>{totalAmount}</span>\n\t\t\t</div>\n\t\t\t<div className={styles.actions}>\n\t\t\t\t<button className={styles['button--alt']} onClick={props.onHideCart}>\n\t\t\t\t\tЗакрыть\n\t\t\t\t</button>\n\t\t\t\t{hasItems && <button className={styles.button}>Заказать</button>}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default Cart;\n","export default __webpack_public_path__ + \"static/media/sushi.a2b4b921.jpg\";","const CartIcon = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 20 20\"\n      fill=\"currentColor\"\n    >\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\n    </svg>\n  );\n};\n\nexport default CartIcon;\n","import { useContext, useEffect, useState } from \"react\";\nimport CartContext from \"../../store/cart-context\";\nimport CartIcon from \"../Cart/CartIcon\";\nimport styles from \"./HeaderCartButton.module.css\";\n\nconst HeaderCartButton = (props) => {\n  const [isButtonAnimated, setIsButtonAnimated] = useState(false);\n  const cartContext = useContext(CartContext);\n\n  const cartItemsNumber = cartContext.items.reduce((currentValue, item) => {\n    return currentValue + item.amount;\n  }, 0);\n\n  const buttonClasses = `${styles.button} ${\n    isButtonAnimated ? styles.bump : \"\"\n  }`;\n\n  useEffect(() => {\n    if (cartContext.items.length === 0) {\n      return;\n    }\n    setIsButtonAnimated(true);\n\n    const timer = setTimeout(() => {\n      setIsButtonAnimated(false);\n    }, 300);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [cartContext.items]);\n\n  return (\n    <button className={buttonClasses} onClick={props.onClick}>\n      <span className={styles.icon}>\n        <CartIcon />\n      </span>\n      <span>Корзина</span>\n      <span className={styles.badge}>{cartItemsNumber}</span>\n    </button>\n  );\n};\n\nexport default HeaderCartButton;\n","import React from \"react\";\nimport sushiImage from \"../../assets/sushi.jpg\";\nimport styles from \"./Header.module.css\";\nimport HeaderCartButton from \"./HeaderCartButton\";\n\nconst Header = (props) => {\n  return (\n    <React.Fragment>\n      <header className={styles.header}>\n        <h1>Япона Кухня</h1>\n        <HeaderCartButton onClick={props.onShowCart} />\n      </header>\n      <div className={styles[\"main-image\"]}>\n        <img src={sushiImage} alt=\"Блюда японской кухни\" />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Header;\n","import styles from \"./PromoText.module.css\";\n\nconst PromoText = () => {\n  return (\n    <section className={styles[\"promo-text\"]}>\n      <h2>Онлайн Суши Ресторан Япона Кухня</h2>\n      <p>\n        Япона Кухня - это онлайн суши-ресторан, в котором любимые суши и сашими,\n        роллы и другие блюда национальной японской кухни делает команда\n        профессиональных поваров.\n      </p>\n      <p>\n        Быстрая работа и качественная продукция, а также самые настоящие\n        компоненты придают хороший вкус блюдам, дарят наслаждение от трапезы.\n      </p>\n    </section>\n  );\n};\n\nexport default PromoText;\n","import styles from \"./Card.module.css\";\n\nconst Card = (props) => {\n  return <div className={styles.card}>{props.children}</div>;\n};\n\nexport default Card;\n","import styles from \"./Input.module.css\";\nimport React from \"react\";\n\nconst Input = React.forwardRef((props, ref) => {\n  return (\n    <div className={styles.input}>\n      <label htmlFor={props.input.id}>{props.label}</label>\n      <input ref={ref} {...props.input} />\n    </div>\n  );\n});\n\nexport default Input;\n","import { useRef, useState } from \"react\";\n\nimport Input from \"../../UI/Input\";\nimport styles from \"./MealItemForm.module.css\";\n\nconst MealItemForm = (props) => {\n  const [isAmountValid, setIsAmountValid] = useState(true);\n  const amountInputRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const inputAmount = amountInputRef.current.value;\n    if (\n      inputAmount.trim().length === 0 ||\n      +inputAmount < 1 ||\n      +inputAmount > 10\n    ) {\n      setIsAmountValid(false);\n      return;\n    }\n\n    props.onAddToCart(+inputAmount);\n  };\n\n  return (\n    <form className={styles.form} onSubmit={submitHandler}>\n      <Input\n        ref={amountInputRef}\n        label=\"Количество\"\n        input={{\n          id: props.id,\n          type: \"number\",\n          min: \"1\",\n          step: \"1\",\n          defaultValue: \"1\",\n        }}\n      />\n      <button>Добавить</button>\n      {!isAmountValid && <p>Пожалуйста введите количество от 1 до 10</p>}\n    </form>\n  );\n};\n\nexport default MealItemForm;\n","import styles from \"./MealItem.module.css\";\nimport MealItemForm from \"./MealItemForm\";\nimport { useContext } from \"react\";\nimport CartContext from \"../../../store/cart-context\";\n\nconst MealItem = (props) => {\n  const cartContext = useContext(CartContext);\n  const formattedPrice = `$${props.price.toFixed(2)}`;\n\n  const addToCartHandler = (amount) => {\n    cartContext.addItem({\n      id: props.id,\n      name: props.name,\n      amount: amount,\n      price: props.price,\n    });\n  };\n\n  return (\n    <li className={styles.meal}>\n      <div>\n        <h3>{props.name}</h3>\n        <div className={styles.description}>{props.description}</div>\n        <div className={styles.price}>{formattedPrice}</div>\n      </div>\n      <div>\n        <MealItemForm onAddToCart={addToCartHandler} id={props.id} />\n      </div>\n    </li>\n  );\n};\n\nexport default MealItem;\n","import styles from \"./MealList.module.css\";\nimport Card from \"../UI/Card\";\nimport MealItem from \"./MealItem/MealItem\";\n\nconst DUMMY_MEALS = [\n  {\n    id: \"m1\",\n    name: 'Ролл \"Наоми\"',\n    description:\n      \"Сыр Филадельфия, куриное филе, масаго, помидор, огурец, кунжут\",\n    price: 11.99,\n  },\n  {\n    id: \"m2\",\n    name: \"Спайс в лососе\",\n    description: \"Рис, лосось, соус спайс\",\n    price: 3.99,\n  },\n  {\n    id: \"m3\",\n    name: \"Суши с угрем\",\n    description: \"Угорь копченый, соус унаги, кунжут\",\n    price: 4.99,\n  },\n  {\n    id: \"m4\",\n    name: 'Салат \"Поке с лососем\"',\n    description:\n      \"Рис, лосось, огурец, чука, нори, стружка тунца, соус ореховый\",\n    price: 7.99,\n  },\n];\n\nconst MealList = () => {\n  const mealList = DUMMY_MEALS.map((meal) => (\n    <MealItem\n      key={meal.id}\n      id={meal.id}\n      name={meal.name}\n      description={meal.description}\n      price={meal.price}\n    />\n  ));\n\n  return (\n    <section className={styles.meals}>\n      <Card>\n        <ul>{mealList}</ul>\n      </Card>\n    </section>\n  );\n};\n\nexport default MealList;\n","import PromoText from \"./PromoText\";\nimport MealList from \"./MealList\";\nimport React from \"react\";\n\nconst Meals = () => {\n  return (\n    <React.Fragment>\n      <PromoText />\n      <MealList />\n    </React.Fragment>\n  );\n};\n\nexport default Meals;\n","import { useReducer } from \"react\";\n\nimport CartContext from \"./cart-context\";\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0,\n};\n\nconst cartReducer = (state, action) => {\n  if (action.type === \"ADD_ITEM\") {\n    const updatedTotalAmount =\n      state.totalAmount + action.item.price * action.item.amount;\n\n    const existingCartItemIndex = state.items.findIndex((item) => {\n      return item.id === action.item.id;\n    });\n\n    const existingCartItem = state.items[existingCartItemIndex];\n\n    let updatedItem;\n    let updatedItems;\n\n    if (existingCartItem) {\n      updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount,\n      };\n\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItem = {\n        ...action.item,\n      };\n      updatedItems = state.items.concat(updatedItem);\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n\n  if (action.type === \"REMOVE_ITEM\") {\n    const existingCartItemIndex = state.items.findIndex((item) => {\n      return item.id === action.id;\n    });\n\n    const existingCartItem = state.items[existingCartItemIndex];\n\n    const updatedTotalAmount = state.totalAmount - existingCartItem.price;\n\n    let updatedItems;\n    if (existingCartItem.amount === 1) {\n      updatedItems = state.items.filter((item) => item.id != action.id);\n    } else {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount - 1,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n\n  return defaultCartState;\n};\n\nconst CartContextProvider = (props) => {\n  const [cartState, dispatchCartAction] = useReducer(\n    cartReducer,\n    defaultCartState\n  );\n\n  const addItemHandler = (item) => {\n    dispatchCartAction({\n      type: \"ADD_ITEM\",\n      item: item,\n    });\n  };\n\n  const removeItemHandler = (id) => {\n    dispatchCartAction({\n      type: \"REMOVE_ITEM\",\n      id: id,\n    });\n  };\n\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemHandler,\n    removeItem: removeItemHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartContextProvider;\n","import React, { useState } from \"react\";\nimport Cart from \"./components/Cart/Cart\";\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport CartContextProvider from \"./store/CartContextProvider\";\n\nfunction App() {\n  const [cartIsVisible, setCartIsVisible] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsVisible(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsVisible(false);\n  };\n\n  return (\n    <CartContextProvider>\n      {cartIsVisible && <Cart onHideCart={hideCartHandler} />}\n      <Header onShowCart={showCartHandler} />\n      <main>\n        <Meals />\n      </main>\n    </CartContextProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}